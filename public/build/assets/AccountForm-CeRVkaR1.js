import{x as S,r as y,j as e}from"./app-B-xtkdgu.js";import{B as p}from"./button-BLONS47u.js";import{D as A,a as D,b as B,c as N,d as T}from"./dialog-DVZZyU3j.js";import{I as x}from"./input-DnnUcBp8.js";import{L as m}from"./label-D5Bs770K.js";import{S as _,a as C,b as F,c as E,d as I}from"./select-CE2cIf92.js";/* empty css            */import"./index-c48QZuyr.js";import"./index-C3Fpo4jT.js";import"./utils-WJiyC32J.js";import"./index-CT-wKwW6.js";import"./index-BVV0cC7D.js";import"./index-BFaS8QKa.js";import"./index-BeSaOwN2.js";import"./index-DSZGXY5Q.js";import"./index-CJb0oHS0.js";import"./index-DybAn4DT.js";import"./index-Ey1MEGWQ.js";function $({open:c,onOpenChange:r,mode:t,account:i}){const{data:u,setData:s,post:h,put:b,processing:d,errors:l,reset:o}=S({name:"",type:"",initial_balance:"",description:""}),j=[{value:"checking",label:"Rekening Giro"},{value:"savings",label:"Tabungan"},{value:"credit",label:"Kartu Kredit"},{value:"investment",label:"Investasi"},{value:"cash",label:"Tunai"},{value:"other",label:"Lainnya"}];y.useEffect(()=>{c&&(t==="edit"&&i?s({name:i.name,type:i.type,initial_balance:String(i.initial_balance),description:""}):o())},[c,t,i]);const f=a=>{const n=String(a).replace(/\D/g,"");return n?n.replace(/\B(?=(\d{3})+(?!\d))/g,"."):""},g=a=>a.replace(/\./g,""),v=a=>{const n=g(a);s("initial_balance",n)},k=a=>{a.preventDefault(),t==="create"?h(route("accounts.store"),{onSuccess:()=>{r(!1),o()}}):t==="edit"&&i&&b(route("accounts.update",i.id),{onSuccess:()=>{r(!1),o()}})};return e.jsx(A,{open:c,onOpenChange:r,children:e.jsxs(D,{className:"sm:max-w-md",children:[e.jsxs(B,{children:[e.jsx(N,{children:t==="create"?"Buat Akun Baru":"Edit Akun"}),e.jsx(T,{children:t==="create"?"Tambahkan akun keuangan baru untuk melacak uang Anda.":"Perbarui informasi akun Anda."})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",children:"Nama Akun"}),e.jsx(x,{id:"name",value:u.name,onChange:a=>s("name",a.target.value),placeholder:"mis. BCA Tabungan"}),l.name&&e.jsx("p",{className:"text-sm text-red-600",children:l.name})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"type",children:"Jenis Akun"}),e.jsxs(_,{value:u.type,onValueChange:a=>s("type",a),children:[e.jsx(C,{children:e.jsx(F,{placeholder:"Pilih jenis akun"})}),e.jsx(E,{children:j.map(a=>e.jsx(I,{value:a.value,children:a.label},a.value))})]}),l.type&&e.jsx("p",{className:"text-sm text-red-600",children:l.type})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"balance",children:"Saldo Awal"}),e.jsx(x,{id:"balance",type:"text",value:f(u.initial_balance),onChange:a=>v(a.target.value),placeholder:"0"}),l.initial_balance&&e.jsx("p",{className:"text-sm text-red-600",children:l.initial_balance})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Batal"}),e.jsx(p,{type:"submit",disabled:d,children:d?t==="create"?"Membuat...":"Memperbarui...":t==="create"?"Buat Akun":"Perbarui Akun"})]})]})]})})}export{$ as default};
