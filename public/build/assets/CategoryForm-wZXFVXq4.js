import{x as f,r as b,j as e}from"./app-D8a9I1Yw.js";import{B as p}from"./button-pctt9IHf.js";import{D as v,a as D,b as S,c as k,d as N}from"./dialog-CBXmMrOt.js";import{I as x}from"./input-AkYlgsfP.js";import{L as m}from"./label-C_OJErA7.js";import{S as B,a as T,b as y,c as K,d as P}from"./select-Co9LEShF.js";import{T as C,a as E}from"./trending-up-HckllVSL.js";/* empty css            */import"./index-sTsEzqjr.js";import"./index-CP2ogPeG.js";import"./utils-7eVb4j9J.js";import"./index-U9efJA4Q.js";import"./index-DUzgLlps.js";import"./index-DjopbGsJ.js";import"./index-BPv4Pgg1.js";import"./index-ImUU4VU2.js";import"./index-BqTGc4Gp.js";import"./index-Bb5yOkxE.js";import"./index-D1AJR19w.js";function _({open:n,onOpenChange:s,mode:r,category:t}){const{data:o,setData:l,post:u,put:h,processing:d,errors:i,reset:c}=f({name:"",type:"",icon:""}),j=[{value:"expense",label:"Pengeluaran",icon:C,color:"text-red-600 bg-red-50 border-red-200"},{value:"income",label:"Pemasukan",icon:E,color:"text-green-600 bg-green-50 border-green-200"}];b.useEffect(()=>{n&&(r==="edit"&&t?l({name:t.name,type:t.type,icon:t.icon||""}):c())},[n,r,t]);const g=a=>{a.preventDefault(),r==="create"?u(route("categories.store"),{onSuccess:()=>{s(!1),c()}}):r==="edit"&&t&&h(route("categories.update",t.id),{onSuccess:()=>{s(!1),c()}})};return e.jsx(v,{open:n,onOpenChange:s,children:e.jsxs(D,{className:"sm:max-w-md",children:[e.jsxs(S,{children:[e.jsx(k,{children:r==="create"?"Buat Kategori Baru":"Edit Kategori"}),e.jsx(N,{children:r==="create"?"Tambahkan kategori baru untuk mengatur transaksi Anda.":"Perbarui informasi kategori Anda."})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",children:"Nama Kategori"}),e.jsx(x,{id:"name",value:o.name,onChange:a=>l("name",a.target.value),placeholder:"mis. Belanja, Gaji"}),i.name&&e.jsx("p",{className:"text-sm text-red-600",children:i.name})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"type",children:"Jenis Kategori"}),e.jsxs(B,{value:o.type,onValueChange:a=>l("type",a),children:[e.jsx(T,{children:e.jsx(y,{placeholder:"Pilih jenis kategori"})}),e.jsx(K,{children:j.map(a=>e.jsx(P,{value:a.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a.icon,{className:"h-4 w-4"}),a.label]})},a.value))})]}),i.type&&e.jsx("p",{className:"text-sm text-red-600",children:i.type})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"icon",children:"Ikon (opsional)"}),e.jsx(x,{id:"icon",value:o.icon,onChange:a=>l("icon",a.target.value),placeholder:"mis. ðŸ›’, ðŸ’°, ðŸŽ¬"}),i.icon&&e.jsx("p",{className:"text-sm text-red-600",children:i.icon})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),e.jsx(p,{type:"submit",disabled:d,children:d?r==="create"?"Membuat...":"Memperbarui...":r==="create"?"Buat Kategori":"Perbarui Kategori"})]})]})]})})}export{_ as default};
